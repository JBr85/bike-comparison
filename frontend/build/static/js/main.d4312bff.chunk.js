(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(22)},17:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(9),c=a.n(r),m=(a(17),a(24));const o={padding:"10px",borderBottom:"2px solid black",fontWeight:"bold",textAlign:"center",backgroundColor:"#f4f4f4"},s={padding:"10px",borderBottom:"1px solid #ddd",textAlign:"center"};var i=e=>{let{frame1:t,stem1:a,handlebar1:r,stackHeight1:c,frame2:m,stem2:i,handlebar2:u,stackHeight2:d}=e;const h=e=>e*Math.PI/180,p=Object(n.useCallback)((e,t,a,n)=>{if(!e||!t||!a)return{effectiveReach:0,totalDrop:0,stemEnd:[0,0],barEnd:[0,0]};const l=90-e.head_angle,r=h(l+t.angle),c=t.length,m=a.reach,o=a.drop,s=parseFloat(n||0),i=c*Math.cos(r),u=Math.round(e.reach+i+m),d=c*Math.sin(r),p=Math.round(e.stack+s+d),g=a.reach*Math.tan(h(l)),E=Math.round(p-o-g),b=[c*Math.cos(r),s+c*Math.sin(r)];return{effectiveReach:u,totalDrop:E,stemEnd:b,barEnd:[b[0]+m,b[1]-o]}},[]),g=p(t,a,r,c),E=p(m,i,u,d);return l.a.createElement("div",{style:{textAlign:"center",marginTop:"20px"}},l.a.createElement("h3",null,l.a.createElement("strong",null,"Bike Geometry Comparison")),l.a.createElement("table",{style:{width:"60%",margin:"0 auto",borderCollapse:"collapse"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:o}),l.a.createElement("th",{style:o},"Bike 1"),l.a.createElement("th",{style:o},"Bike 2"),l.a.createElement("th",{style:o},"Difference"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{style:s},l.a.createElement("strong",null,"Reach")),l.a.createElement("td",{style:s},g.effectiveReach," mm"),l.a.createElement("td",{style:s},E.effectiveReach," mm"),l.a.createElement("td",{style:s},l.a.createElement("strong",null,E.effectiveReach-g.effectiveReach," mm"))),l.a.createElement("tr",null,l.a.createElement("td",{style:s},l.a.createElement("strong",null,"Total Drop")),l.a.createElement("td",{style:s},g.totalDrop," mm"),l.a.createElement("td",{style:s},E.totalDrop," mm"),l.a.createElement("td",{style:s},l.a.createElement("strong",null,E.totalDrop-g.totalDrop," mm"))))))};var u=e=>{let{bike1:t,bike2:a}=e;const[r,c]=Object(n.useState)(null);return Object(n.useEffect)(()=>{t&&a&&fetch("https://bike-comparison-x1at.onrender.com/geometry-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bike1:t,bike2:a})}).then(e=>e.json()).then(e=>{c(e.image_base64)}).catch(e=>console.error("Error fetching geometry image:",e))},[t,a]),l.a.createElement("div",{style:{textAlign:"center",marginTop:"30px"}},l.a.createElement("h3",null,"\ud83d\uddbc\ufe0f Front-End Geometry Visual"),r?l.a.createElement("img",{src:`data:image/png;base64,${r}`,alt:"Geometry Comparison",style:{maxWidth:"100%",border:"1px solid #ccc"}}):l.a.createElement("p",null,"Loading geometry image..."))};var d=()=>{const[e,t]=Object(n.useState)([]),[a,r]=Object(n.useState)([]),[c,o]=Object(n.useState)([]),[s,d]=Object(n.useState)(null),[h,p]=Object(n.useState)(null),[g,E]=Object(n.useState)(!1),[b,f]=Object(n.useState)(null),[k,v]=Object(n.useState)(""),[y,S]=Object(n.useState)(null),[C,j]=Object(n.useState)(null),[x,O]=Object(n.useState)(!1),[_,B]=Object(n.useState)(null),[D,I]=Object(n.useState)("");return Object(n.useEffect)(()=>{m.a.get("https://bike-comparison-x1at.onrender.com/components/frames").then(e=>t(e.data)).catch(e=>console.error("Error fetching frames:",e)),m.a.get("https://bike-comparison-x1at.onrender.com/components/stems").then(e=>r(e.data)).catch(e=>console.error("Error fetching stems:",e)),m.a.get("https://bike-comparison-x1at.onrender.com/components/handlebars").then(e=>o(e.data)).catch(e=>console.error("Error fetching handlebars:",e))},[]),l.a.createElement("div",null,l.a.createElement("h2",null,"Bike Setup Comparison"),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},l.a.createElement("div",null,l.a.createElement("h3",null,"Bike 1 (Blue)"),l.a.createElement("label",null,"Frame: "),l.a.createElement("select",{onChange:t=>d(e.find(e=>e.id===parseInt(t.target.value)))},l.a.createElement("option",{value:""},"Select a frame"),e.map(e=>l.a.createElement("option",{key:e.id,value:e.id},e.make," - ",e.size))),l.a.createElement("br",null),l.a.createElement("label",null,"Stem: "),l.a.createElement("select",{onChange:e=>{const t=a.find(t=>t.id===parseInt(e.target.value));p(t)}},l.a.createElement("option",{value:""},"Select a stem"),a.map(e=>l.a.createElement("option",{key:e.id,value:e.id},e.make," - ",e.length,"mm, ",g?-e.angle:e.angle,"\xb0"))),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",checked:g,onChange:()=>E(!g)})," ","Invert Stem"),l.a.createElement("br",null),l.a.createElement("label",null,"Handlebar: "),l.a.createElement("select",{onChange:e=>f(c.find(t=>t.id===parseInt(e.target.value)))},l.a.createElement("option",{value:""},"Select a handlebar"),c.map(e=>l.a.createElement("option",{key:e.id,value:e.id},e.make," - ",e.width,"mm, Reach ",e.reach,"mm, Drop ",e.drop,"mm"))),l.a.createElement("br",null),l.a.createElement("label",null,"Stack Height (mm): "),l.a.createElement("input",{type:"number",value:k,onChange:e=>v(e.target.value),placeholder:"Enter stack height"})),l.a.createElement("div",null,l.a.createElement("h3",null,"Bike 2 (Red)"),l.a.createElement("label",null,"Frame: "),l.a.createElement("select",{onChange:t=>S(e.find(e=>e.id===parseInt(t.target.value)))},l.a.createElement("option",{value:""},"Select a frame"),e.map(e=>l.a.createElement("option",{key:e.id,value:e.id},e.make," - ",e.size))),l.a.createElement("br",null),l.a.createElement("label",null,"Stem: "),l.a.createElement("select",{onChange:e=>{const t=a.find(t=>t.id===parseInt(e.target.value));j(t)}},l.a.createElement("option",{value:""},"Select a stem"),a.map(e=>l.a.createElement("option",{key:e.id,value:e.id},e.make," - ",e.length,"mm, ",x?-e.angle:e.angle,"\xb0"))),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",checked:x,onChange:()=>O(!x)})," ","Invert Stem"),l.a.createElement("br",null),l.a.createElement("label",null,"Handlebar: "),l.a.createElement("select",{onChange:e=>B(c.find(t=>t.id===parseInt(e.target.value)))},l.a.createElement("option",{value:""},"Select a handlebar"),c.map(e=>l.a.createElement("option",{key:e.id,value:e.id},e.make," - ",e.width,"mm, Reach ",e.reach,"mm, Drop ",e.drop,"mm"))),l.a.createElement("br",null),l.a.createElement("label",null,"Stack Height (mm): "),l.a.createElement("input",{type:"number",value:D,onChange:e=>I(e.target.value),placeholder:"Enter stack height"}))),l.a.createElement(i,{frame1:s,stem1:h?{...h,angle:g?-h.angle:h.angle}:null,handlebar1:b,stackHeight1:k,frame2:y,stem2:C?{...C,angle:x?-C.angle:C.angle}:null,handlebar2:_,stackHeight2:D}),l.a.createElement(u,{bike1:s&&h&&b?{head_angle:s.head_angle,stack:parseFloat(k||0),stem_length:h.length,stem_angle:g?-h.angle:h.angle,bar_reach:b.reach,bar_drop:b.drop}:null,bike2:y&&C&&_?{head_angle:y.head_angle,stack:parseFloat(D||0),stem_length:C.length,stem_angle:x?-C.angle:C.angle,bar_reach:_.reach,bar_drop:_.drop}:null}))};var h=function(){return l.a.createElement("div",{className:"App"},l.a.createElement("h1",null,"Bike Comparison Tool"),l.a.createElement(d,null))};var p=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,25)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:r,getTTFB:c}=t;a(e),n(e),l(e),r(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(h,null))),p()}},[[10,1,2]]]);
//# sourceMappingURL=main.d4312bff.chunk.js.map